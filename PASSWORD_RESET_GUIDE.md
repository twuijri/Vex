# ✅ ميزة إعادة تعيين كلمة المرور - تمت الإضافة!

## 🎯 ما تم إضافته:

### 1️⃣ Backend API Endpoint:
**المسار:** `/api/reset-password`

**الوظيفة:**
- ✅ يولد كلمة مرور عشوائية (16 حرف)
- ✅ يشفرها ويحفظها في `config.db`
- ✅ يطبع كلمة المرور في **Container Logs** بشكل واضح
- ✅ يحفظ كلمة المرور في ملف `/app/data/password_reset.log`

---

### 2️⃣ Frontend Button:
**الموقع:** صفحة Login

**المظهر:**
- زر أصفر تحت زر الدخول
- نص: "🔄 إعادة تعيين كلمة المرور"

**الوظيفة:**
- يطلب تأكيد من المستخدم
- يرسل طلب لـ API
- يعرض تعليمات واضحة لكيفية الحصول على الباسورد الجديد

---

## 📋 كيفية الاستخدام:

### الخطوات:

1. **افتح صفحة Login:**
   ```
   http://209.182.238.116:3003/login
   ```

2. **اضغط على الزر الأصفر:**
   ```
   🔄 إعادة تعيين كلمة المرور
   ```

3. **أكّد العملية:**
   - سيظهر تأكيد "هل أنت متأكد؟"
   - اضغط OK

4. **اذهب إلى Portainer:**
   - **Containers** → `boter_backend`
   - **Logs**
   - ابحث عن: `PASSWORD RESET`

5. **انسخ كلمة المرور:**
   ستجد رسالة مثل:
   ```
   ═══════════════════════════════════════════════════════════
   🔐 PASSWORD RESET - إعادة تعيين كلمة المرور
   ═══════════════════════════════════════════════════════════
   Timestamp: 2026-01-30 00:20:35
   Username: admin
   New Password: aBc123XyZ789QwEr
   ═══════════════════════════════════════════════════════════
   ```

6. **سجل الدخول:**
   - استخدم Username و Password الجديد
   - ادخل للوحة التحكم
   - غيّر كلمة المرور من الإعدادات (قريباً)

---

## 🚀 التحديث في Portainer:

### في Stack `vex`:
1. اضغط **Pull and redeploy**
2. انتظر إعادة البناء (2-3 دقائق)
3. بعدها سيكون الزر متاح في صفحة Login!

---

## 🔐 ملاحظات أمنية:

- ✅ يعمل فقط إذا النظام معد مسبقاً (`is_setup_complete = True`)
- ✅ كلمة المرور طولها 16 حرف عشوائي (آمنة جداً)
- ✅ تُحفظ مشفرة في قاعدة البيانات
- ✅ النسخة الواضحة موجودة فقط في logs و `password_reset.log`

---

## 📂 مكان حفظ كلمة المرور:

بالإضافة إلى Logs، ستجد كلمة المرور في:
```
/app/data/password_reset.log
```

يمكنك فتح هذا الملف من Terminal في Portainer:
```bash
docker exec boter_backend cat /app/data/password_reset.log
```

---

**الآن قم بـ Update Stack في Portainer وجرب الميزة الجديدة!** 🎉
